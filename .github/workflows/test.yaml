on:
########################
  push:
    branches: [ main ]
    paths: [ service.yml ]
########################
  pull_request:
    branches: [ main ]
    paths: [ service.yml ]
########################
  workflow_dispatch:
    inputs:
      service_name:
        description: 'The name of the service you want to generate'
        required: true
        type: string
      SERVICE:
        description: 'Generate a service template'
        required: true
        type: bool
        default: "false"
      DEPLOYMENT:
        description: 'Generate a deployment template'
        required: true
        type: bool
        default: "false"
      SECRETS:
        description: 'Generate a secrets template'
        required: true
        type: bool
        default: "false"
      CONFIGMAP:
        description: 'Generate a configmap template'
        required: true
        type: bool
        default: "false"
########################
jobs:
#############################################################################################
  devops_open_pr:
    runs-on: ubuntu-latest
    env:
      SERVICE_NAME: ${{ github.event.client_payload.service_name }}
      SERVICE: ${{ github.event.client_payload.service }}
      DEPLOYMENT: ${{ github.event.client_payload.deployment }}
      SECRETS: ${{ github.event.client_payload.secrets }}
      CONFIGMAP: ${{ github.event.client_payload.configmap }}
    name: A POC WF
    steps:
      - uses: actions/checkout@v2
      - name: Print the object
        id: print
        uses: saar-win/personal-projects/new_action@v2
        with:
          FILE: ${{ github.workspace }}/${{ env.FILE }}
          ACTIONS_ACCESS_USERNAME: ${{ secrets.ACTIONS_ACCESS_USERNAME }}
          ACTIONS_ACCESS_KEY: ${{ secrets.ACTIONS_ACCESS_KEY }}
#############################################################################################